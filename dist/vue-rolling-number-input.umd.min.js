(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-rolling-number-input"]=e(require("vue")):t["vue-rolling-number-input"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){"use strict";var e={203:function(e){e.exports=t}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var s=i[t]={exports:{}};return e[t](s,s.exports,n),s.exports}!function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p=""}();var r={};return function(){if(n.d(r,{default:function(){return c}}),"undefined"!==typeof window){var t=window.document.currentScript,e=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);e&&(n.p=e[1])}var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",{staticClass:"rolling-number-input-grid"},[t._l(t.digits,(function(i,n){return e("input",{key:n,ref:"inputs",refInFor:!0,class:t.getClass(n),domProps:{value:i},on:{keydown:function(e){return t.handleKey(e,n)},input:function(e){return t.handleInputEvent(e,n)},wheel:function(e){return t.handleWheelEvent(e,n)},click:function(e){return t.handleClick(e)}}})})),e("span",[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:""+t.internalValue}})])],2)},s=[],a=n(203),u=n.n(a),l=u().extend({name:"RollingNumberInput",props:{allowNegative:{type:Boolean,default:!1},centerClass:{type:String,default:"rolling-number-input-center"},digitClass:{type:String,default:"rolling-number-input-digit"},leftClass:{type:String,default:"rolling-number-input-left"},rightClass:{type:String,default:"rolling-number-input-right"},name:{type:String,default:""},value:{type:Number,required:!0},precision:{type:Number,default:0},width:{type:Number,required:!0},max:{type:Number,default:void 0},min:{type:Number,default:void 0}},data(){return{internalValue:this.value}},computed:{digits(){if(this.precision<0||this.width<1)return[];const t=Math.abs(this.internalValue).toFixed(this.precision),e=new Array(this.width).fill("0"),i=this.width-t.length;for(let n=t.length-1;n>=0;n--)e[n+i]=t.charAt(n);return this.allowNegative&&(this.internalValue>=0?e[0]="+":e[0]="-"),e},maxValue(){return this.max?this.max:Math.pow(10,this.wholeDigits)-Math.pow(10,-this.precision)},minValue(){return this.min?this.min:this.allowNegative?-this.maxValue:0},wholeDigits(){return this.width-this.precision-(this.allowNegative?1:0)-(this.precision>0?1:0)}},watch:{value(t,e){const i=parseFloat(t);i!==e&&(isNaN(i)?this.internalValue=0:this.internalValue=i)},internalValue(t,e){const i=parseFloat(t);i!==e&&(this.$emit("input",i),this.$emit("change",i))}},methods:{async changeDigit(t,e){if(e<0||e>=this.digits.length||parseInt(this.digits[e])===t)return!1;const i=this.digits.map(((i,n)=>n===e?t:i)).join("");return this.internalValue=parseFloat(i),!0},async changeFocus(t,e){let i=e+(t?-1:1);if(i<this.digits.length&&"."===this.digits[i]&&(i+=t?-1:1),this.$refs&&i<this.digits.length&&i>=(this.allowNegative?1:0)){const t=this.$refs,e=t.inputs,n=e[i];return n.focus(),!0}return!1},async handleKey(t,e){const i=this.digits[e],n=parseInt(t.key);if("-"===t.key&&this.allowNegative)return this.internalValue=-Math.abs(this.internalValue),void t.preventDefault();if("+"===t.key)return this.internalValue=Math.abs(this.internalValue),void t.preventDefault();if(("."===i||"+"===i||"-"===i||e<0||e>=this.digits.length||parseInt(i)===n)&&t.preventDefault(),parseInt(i)===n)return void await this.changeFocus(!1,e);if("ArrowUp"===t.key)return await this.bumpDigit(!0,e),void t.preventDefault();if("ArrowDown"===t.key)return await this.bumpDigit(!1,e),void t.preventDefault();if(n>=0&&n<=9)return;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key&&"Tab"!==t.key)return void(isNaN(n)&&t.preventDefault());const r="ArrowLeft"===t.key||t.shiftKey&&"Tab"===t.key;await this.changeFocus(r,e)&&t.preventDefault()},getClass(t){if(0===t){let t=`${this.digitClass} ${this.leftClass}`;return 1===this.width&&(t+=" rolling-number-input-single"),2===this.width&&(t+=" rolling-number-input-left-two-digits"),t}return t===this.width-1?`${this.digitClass} ${this.rightClass}`:`${this.digitClass} ${this.centerClass}`},async handleClick(t){t.currentTarget instanceof HTMLInputElement&&t.currentTarget.select()},async handleInputEvent(t,e){t.data&&(await this.changeDigit(parseInt(t.data),e)?await this.changeFocus(!1,e):t.preventDefault())},async handleWheelEvent(t,e){this.allowNegative&&0===e||this.precision>0&&e===this.width-this.precision-1?t.preventDefault():t.deltaY<0?await this.bumpDigit(!0,e):t.deltaY>0&&await this.bumpDigit(!1,e)},async bumpDigit(t,e){const i=this.width-this.precision,n=Math.pow(10,i-e-(e>=i?1:2)-(0===this.precision?-1:0));t?this.internalValue+=n:this.internalValue-=n,this.internalValue=await this.round(Math.max(this.minValue,Math.min(this.internalValue,this.maxValue)),this.precision)},async round(t,e){return Number(Math.round(Number(t+"e"+e))+"e-"+e)}}}),o=l;function h(t,e,i,n,r,s,a,u){var l,o="function"===typeof t?t.options:t;if(e&&(o.render=e,o.staticRenderFns=i,o._compiled=!0),n&&(o.functional=!0),s&&(o._scopeId="data-v-"+s),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},o._ssrRegister=l):r&&(l=u?function(){r.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(o.functional){o._injectStyles=l;var h=o.render;o.render=function(t,e){return l.call(e),h(t,e)}}else{var p=o.beforeCreate;o.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:o}}var p=h(o,i,s,!1,null,"5dedf855",null),d=p.exports,c=d}(),r=r["default"],r}()}));
//# sourceMappingURL=vue-rolling-number-input.umd.min.js.map