(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-rolling-number-input"]=e(require("vue")):t["vue-rolling-number-input"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(){"use strict";var e={203:function(e){e.exports=t}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,i),s.exports}!function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p=""}();var r={};return function(){if(i.d(r,{default:function(){return c}}),"undefined"!==typeof window){var t=window.document.currentScript,e=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);e&&(i.p=e[1])}var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",t._l(t.digits,(function(n,i){return e("input",{key:i,ref:"inputs",refInFor:!0,class:t.getClass(i),domProps:{value:n},on:{keydown:function(e){return t.handleKey(e,i)},input:function(e){return t.handleInputEvent(e,i)},wheel:function(e){return t.handleWheelEvent(e,i)},click:function(e){return t.handleClick(e)}}})})),0)},s=[],o=i(203),a=i.n(o),u=a().extend({name:"RollingNumberInput",props:{allowNegative:{type:Boolean,default:!1},centerClass:{type:String,default:"rolling-number-input-center"},digitClass:{type:String,default:"rolling-number-input-digit"},leftClass:{type:String,default:"rolling-number-input-left"},rightClass:{type:String,default:"rolling-number-input-right"},value:{type:Number,required:!0},precision:{type:Number,default:0},width:{type:Number,required:!0},max:{type:Number,default:void 0},min:{type:Number,default:void 0}},data(){return{internalValue:this.value}},computed:{digits(){const t=Math.abs(this.internalValue).toFixed(this.precision),e=new Array(this.width).fill("0"),n=this.width-t.length;for(let i=t.length-1;i>=0;i--)e[i+n]=t.charAt(i);return this.allowNegative&&(this.internalValue>=0?e[0]="+":e[0]="-"),e},maxValue(){return this.max?this.max:Math.pow(10,this.wholeDigits)-Math.pow(10,-this.precision)},minValue(){return this.min?this.min:this.allowNegative?-this.maxValue:0},wholeDigits(){return this.width-this.precision-(this.allowNegative?1:0)-(this.precision>0?1:0)}},watch:{value(t,e){const n=parseFloat(t);n!==e&&(isNaN(n)?this.internalValue=0:this.internalValue=n)},internalValue(t,e){const n=parseFloat(t);n!==e&&this.$emit("input",n)}},methods:{changeDigit(t,e){if(e<0||e>=this.digits.length||parseInt(this.digits[e])===t)return!1;const n=this.digits.map(((n,i)=>i===e?t:n)).join("");return this.internalValue=parseFloat(n),!0},changeFocus(t,e){let n=e+(t?-1:1);if(n<this.digits.length&&"."===this.digits[n]&&(n+=t?-1:1),this.$refs&&n<this.digits.length&&n>=(this.allowNegative?1:0)){const t=this.$refs,e=t.inputs,i=e[n];return i.focus(),!0}return!1},handleKey(t,e){const n=this.digits[e],i=parseInt(t.key);if(("."===n||"+"===n||"-"===n||e<0||e>=this.digits.length||parseInt(n)===i)&&(console.info("preventDefault"),t.preventDefault()),parseInt(n)===i)return void this.changeFocus(!1,e);if("ArrowUp"===t.key)return this.bumpDigit(!0,e),console.info("preventDefault"),void t.preventDefault();if("ArrowDown"===t.key)return this.bumpDigit(!1,e),console.info("preventDefault"),void t.preventDefault();if(i>=0&&i<=9)return;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key&&"Tab"!==t.key)return void(isNaN(i)&&t.preventDefault());const r="ArrowLeft"===t.key||t.shiftKey&&"Tab"===t.key;this.changeFocus(r,e)&&(console.info("preventDefault"),t.preventDefault())},getClass(t){return 0===t?`${this.digitClass} ${this.leftClass}`:t===this.width-1?`${this.digitClass} ${this.rightClass}`:`${this.digitClass} ${this.centerClass}`},handleClick(t){t.currentTarget instanceof HTMLInputElement&&t.currentTarget.select()},handleInputEvent(t,e){t.data&&(this.changeDigit(parseInt(t.data),e)?this.changeFocus(!1,e):(console.info("preventDefault"),t.preventDefault()))},handleWheelEvent(t,e){if(this.allowNegative&&0===e||this.precision>0&&e===this.width-this.precision-1)return console.info("preventDefault"),void t.preventDefault();t.deltaY<0?this.bumpDigit(!0,e):t.deltaY>0&&this.bumpDigit(!1,e)},bumpDigit(t,e){const n=this.width-this.precision,i=Math.pow(10,n-e-(e>=n?1:2)-(0===this.precision?-1:0));t?this.internalValue+=i:this.internalValue-=i,this.internalValue=Math.max(this.minValue,Math.min(this.internalValue,this.maxValue))}}}),l=u;function h(t,e,n,i,r,s,o,a){var u,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):r&&(u=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var h=l.render;l.render=function(t,e){return u.call(e),h(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:l}}var f=h(l,n,s,!1,null,"b8365e94",null),p=f.exports,c=p}(),r=r["default"],r}()}));
//# sourceMappingURL=vue-rolling-number-input.umd.min.js.map